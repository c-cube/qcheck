<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>QCheck (qcheck-core.QCheck)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">qcheck-core</a> &#x00BB; QCheck</nav><header class="odoc-preamble"><h1>Module <code><span>QCheck</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#quickcheck-inspired-property-based-testing">Quickcheck inspired property-based testing</a><ul><li><a href="#pretty-printing">Pretty printing</a></li><li><a href="#observe-values">Observe Values</a></li><li><a href="#arbitrary">Arbitrary</a></li><li><a href="#tests">Tests</a></li><li><a href="#sub-tests">Sub-tests</a></li><li><a href="#combinators-for-arbitrary">Combinators for arbitrary</a><ul><li><a href="#tuple-of-generators_2">Tuple of generators</a><ul><li><a href="#shrinks-on-gen1,-then-gen2,-then-..._2">Shrinks on <code>gen1</code>, then <code>gen2</code>, then ...</a></li></ul></li></ul></li></ul></li></ul></nav><div class="odoc-content"><h2 id="quickcheck-inspired-property-based-testing"><a href="#quickcheck-inspired-property-based-testing" class="anchor"></a>Quickcheck inspired property-based testing</h2><p>The library takes inspiration from Haskell's QuickCheck library. The rough idea is that the programmer describes invariants that values of a certain type need to satisfy (&quot;properties&quot;), as functions from this type to bool. She also needs to describe how to generate random values of the type, so that the property is tried and checked on a number of random instances.</p><p>This explains the organization of this module:</p><ul><li><code>'aarbitrary</code> is used to describe how to generate random values, shrink them (make counter-examples as small as possible), print them, etc. Auxiliary modules such as <a href="Gen/index.html"><code>Gen</code></a>, <a href="Print/index.html"><code>Print</code></a>, and <a href="Shrink/index.html"><code>Shrink</code></a> can be used along with <a href="#val-make"><code>make</code></a> to build one's own arbitrary instances.</li></ul><ul><li><a href="Test/index.html"><code>Test</code></a> is used to describe a single test, that is, a property of type <code>'a -&gt; bool</code> combined with an <code>'a arbitrary</code> that is used to generate the test cases for this property. Optional parameters allow to specify the random generator state, number of instances to generate and test, etc.</li></ul><p>Examples:</p><ul><li>List.rev is involutive:</li></ul><pre><code>let test =
  QCheck.(Test.make ~count:1000
            (list int) (fun l -&gt; List.rev (List.rev l) = l));;

QCheck.Test.check_exn test;;</code></pre><ul><li>Not all lists are sorted (false property that will fail. The 15 smallest counter-example lists will be printed):</li></ul><pre><code>let test = QCheck.(
    Test.make
      ~count:10_000 ~max_fail:3
      (list small_nat)
      (fun l -&gt; l = List.sort compare l));;
QCheck.Test.check_exn test;;</code></pre><ul><li>generate 20 random trees using <a href="Gen/index.html#val-fix"><code>Gen.fix</code></a> :</li></ul><pre><code>type tree = Leaf of int | Node of tree * tree

let leaf x = Leaf x
let node x y = Node (x,y)

let g = QCheck.Gen.(sized @@ fix
                      (fun self n -&gt; match n with
                         | 0 -&gt; map leaf nat
                         | n -&gt;
                           frequency
                             [1, map leaf nat;
                              2, map2 node (self (n/2)) (self (n/2))]
                      ))

    Gen.generate ~n:20 g;;</code></pre><p>More complex and powerful combinators can be found in Gabriel Scherer's <code>Generator</code> module. Its documentation can be found <a href="http://gasche.github.io/random-generator/doc/Generator.html">here</a>.</p><div class="odoc-spec"><div class="spec value" id="val-(==&gt;)" class="anchored"><a href="#val-(==&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (==&gt;) : <span>bool <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>b1 ==&gt; b2</code> is the logical implication <code>b1 =&gt; b2</code> ie <code>not b1 || b2</code> (except that it is strict and will interact better with <a href="Test/index.html#val-check_exn"><code>Test.check_exn</code></a> and the likes, because they will know the precondition was not satisfied.).</p><p><b>WARNING</b>: this function should only be used in a property (see <a href="Test/index.html#val-make"><code>Test.make</code></a>), because it raises a special exception in case of failure of the first argument, to distinguish between failed test and failed precondition. Because of OCaml's evaluation order, both <code>b1</code> and <code>b2</code> are always evaluated; if <code>b2</code> should only be evaluated when <code>b1</code> holds, see <a href="#val-assume"><code>assume</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-assume" class="anchored"><a href="#val-assume" class="anchor"></a><code><span><span class="keyword">val</span> assume : <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>assume cond</code> checks the precondition <code>cond</code>, and does nothing if <code>cond=true</code>. If <code>cond=false</code>, it interrupts the current test.</p><p><b>WARNING</b> This function, like <a href="#val-(==&gt;)"><code>(==&gt;)</code></a>, should only be used in a test, not outside. Example:</p><pre><code>Test.make (list int) (fun l -&gt;
    assume (l &lt;&gt; []);
    List.hd l :: List.tl l = l)</code></pre><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.5.1</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-assume_fail" class="anchored"><a href="#val-assume_fail" class="anchor"></a><code><span><span class="keyword">val</span> assume_fail : <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>assume_fail ()</code> is like <code>assume false</code>, but can take any type since we know it always fails (like <code>assert false</code>). This is useful to ignore some branches in <code>if</code> or <code>match</code>.</p><p>Example:</p><pre><code>Test.make (list int) (function
    | [] -&gt; assume_fail ()
    | _::_ as l -&gt; List.hd l :: List.tl l = l)</code></pre><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.5.1</li></ul></div></div><div class="odoc-spec"><div class="spec module" id="module-Gen" class="anchored"><a href="#module-Gen" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Gen/index.html">Gen</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h3 id="pretty-printing"><a href="#pretty-printing" class="anchor"></a>Pretty printing</h3><div class="odoc-spec"><div class="spec module" id="module-Print" class="anchored"><a href="#module-Print" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Print/index.html">Print</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Iter" class="anchored"><a href="#module-Iter" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Iter/index.html">Iter</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Shrink" class="anchored"><a href="#module-Shrink" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Shrink/index.html">Shrink</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h3 id="observe-values"><a href="#observe-values" class="anchor"></a>Observe Values</h3><p>Observables are usable as arguments for random functions. The random function will observe its arguments in a way that is determined from the observable instance.</p><p>Inspired from https://blogs.janestreet.com/quickcheck-for-core/ and Koen Claessen's &quot;Shrinking and Showing functions&quot;.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul><div class="odoc-spec"><div class="spec module" id="module-Observable" class="anchored"><a href="#module-Observable" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Observable/index.html">Observable</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h3 id="arbitrary"><a href="#arbitrary" class="anchor"></a>Arbitrary</h3><p>A value of type <code>'a arbitrary</code> glues together a random generator, and optional functions for shrinking, printing, computing the size, etc. It is the &quot;normal&quot; way of describing how to generate values of a given type, to be then used in tests (see <a href="Test/index.html"><code>Test</code></a>).</p><div class="odoc-spec"><div class="spec type" id="type-stat" class="anchored"><a href="#type-stat" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a stat</span></span><span> = string * <span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span></span></code></div><div class="spec-doc"><p>A statistic on a distribution of values of type <code>'a</code>. The function <b>MUST</b> return a positive integer.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-arbitrary" class="anchored"><a href="#type-arbitrary" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a arbitrary</span></span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-arbitrary.gen" class="anchored"><td class="def record field"><a href="#type-arbitrary.gen" class="anchor"></a><code><span>gen : <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span>;</span></code></td></tr><tr id="type-arbitrary.print" class="anchored"><td class="def record field"><a href="#type-arbitrary.print" class="anchor"></a><code><span>print : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> string)</span> option</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>print values</p><span class="comment-delim">*)</span></td></tr><tr id="type-arbitrary.small" class="anchored"><td class="def record field"><a href="#type-arbitrary.small" class="anchor"></a><code><span>small : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> option</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>size of example</p><span class="comment-delim">*)</span></td></tr><tr id="type-arbitrary.shrink" class="anchored"><td class="def record field"><a href="#type-arbitrary.shrink" class="anchor"></a><code><span>shrink : <span><span><span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a></span> option</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>shrink to smaller examples</p><span class="comment-delim">*)</span></td></tr><tr id="type-arbitrary.collect" class="anchored"><td class="def record field"><a href="#type-arbitrary.collect" class="anchor"></a><code><span>collect : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> string)</span> option</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>map value to tag, and group by tag</p><span class="comment-delim">*)</span></td></tr><tr id="type-arbitrary.stats" class="anchored"><td class="def record field"><a href="#type-arbitrary.stats" class="anchor"></a><code><span>stats : <span><span><span class="type-var">'a</span> <a href="#type-stat">stat</a></span> list</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>statistics to collect and print</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>A value of type <code>'a arbitrary</code> is an object with a method for generating random values of type <code>'a</code>, and additional methods to compute the size of values, print them, and possibly shrink them into smaller counter-examples.</p><p><b>NOTE</b> the collect field is unstable and might be removed, or moved into <a href="Test/index.html"><code>Test</code></a>.</p><p>Made private since 0.8</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>?print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?small:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span>?shrink:<span><span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?collect:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
<span>?stats:<span><span><span class="type-var">'a</span> <a href="#type-stat">stat</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Builder for arbitrary. Default is to only have a generator, but other arguments can be added.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">print</span> <p>printer for values (counter-examples)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">collect</span> <p>for statistics</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">shrink</span> <p>to shrink counter-examples</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-set_print" class="anchored"><a href="#val-set_print" class="anchor"></a><code><span><span class="keyword">val</span> set_print : <span><span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_small" class="anchored"><a href="#val-set_small" class="anchor"></a><code><span><span class="keyword">val</span> set_small : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_shrink" class="anchored"><a href="#val-set_shrink" class="anchor"></a><code><span><span class="keyword">val</span> set_shrink : <span><span><span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_collect" class="anchored"><a href="#val-set_collect" class="anchor"></a><code><span><span class="keyword">val</span> set_collect : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_stats" class="anchored"><a href="#val-set_stats" class="anchor"></a><code><span><span class="keyword">val</span> set_stats : <span><span><span><span class="type-var">'a</span> <a href="#type-stat">stat</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-add_shrink_invariant" class="anchored"><a href="#val-add_shrink_invariant" class="anchor"></a><code><span><span class="keyword">val</span> add_shrink_invariant : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Update shrinker by only keeping smaller values satisfying the given invariant.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.8</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-set_gen" class="anchored"><a href="#val-set_gen" class="anchor"></a><code><span><span class="keyword">val</span> set_gen : <span><span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Change the generator</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.7</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-add_stat" class="anchored"><a href="#val-add_stat" class="anchor"></a><code><span><span class="keyword">val</span> add_stat : <span><span><span class="type-var">'a</span> <a href="#type-stat">stat</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Add a statistic to the arbitrary instance.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-gen" class="anchored"><a href="#val-gen" class="anchor"></a><code><span><span class="keyword">val</span> gen : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span></span></code></div><div class="spec-doc"><p>Access the underlying random generator of this arbitrary object.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-get_gen" class="anchored"><a href="#val-get_gen" class="anchor"></a><code><span><span class="keyword">val</span> get_gen : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span></span></code></div><div class="spec-doc"><p>Access the underlying random generator of this arbitrary object.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-get_print" class="anchored"><a href="#val-get_print" class="anchor"></a><code><span><span class="keyword">val</span> get_print : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> option</span></span></code></div></div><h3 id="tests"><a href="#tests" class="anchor"></a>Tests</h3><p>A test is a universal property of type <code>foo -&gt; bool</code> for some type <code>foo</code>, with an object of type <code>foo arbitrary</code> used to generate, print, etc. values of type <code>foo</code>.</p><p>See <a href="Test/index.html#val-make"><code>Test.make</code></a> to build a test, and <a href="Test/index.html#val-check_exn"><code>Test.check_exn</code></a> to run one test simply. For more serious testing, it is better to create a testsuite and use <code>QCheck_runner</code>.</p><div class="odoc-spec"><div class="spec module" id="module-TestResult" class="anchored"><a href="#module-TestResult" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="TestResult/index.html">TestResult</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Result of running a test</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Test" class="anchored"><a href="#module-Test" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Test/index.html">Test</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Module related to individual tests.</p></div></div><h3 id="sub-tests"><a href="#sub-tests" class="anchor"></a>Sub-tests</h3><p>The infrastructure used to find counter-examples to properties can also be used to find data satisfying a predicate, <i>within a property being tested</i>.</p><p>See https://github.com/c-cube/qcheck/issues/31</p><div class="odoc-spec"><div class="spec exception" id="exception-No_example_found" class="anchored"><a href="#exception-No_example_found" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">No_example_found</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-find_example" class="anchored"><a href="#val-find_example" class="anchor"></a><code><span><span class="keyword">val</span> find_example : <span>?name:string <span class="arrow">&#45;&gt;</span></span> <span>?count:int <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span></span></code></div><div class="spec-doc"><p><code>find_example ~f gen</code> uses <code>gen</code> to generate some values of type <code>'a</code>, and checks them against <code>f</code>. If such a value is found, it is returned. Otherwise an exception is raised. <b>NOTE</b> this should only be used from within a property in <a href="Test/index.html#val-make"><code>Test.make</code></a>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">count</span> <p>number of attempts.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">name</span> <p>description of the example to find (used in the exception).</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">f</span> <p>the property that the example must satisfy.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">No_example_found</span> <p>if no example is found within <code>count</code> tries.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-find_example_gen" class="anchored"><a href="#val-find_example_gen" class="anchor"></a><code><span><span class="keyword">val</span> find_example_gen : <span>?rand:<span class="xref-unresolved">Stdlib</span>.Random.State.t <span class="arrow">&#45;&gt;</span></span> <span>?name:string <span class="arrow">&#45;&gt;</span></span> <span>?count:int <span class="arrow">&#45;&gt;</span></span>
<span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Toplevel version of <a href="#val-find_example"><code>find_example</code></a>. <code>find_example_gen ~f arb ~n</code> is roughly the same as <code>Gen.generate1 (find_example ~f arb |&gt; gen)</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">rand</span> <p>the random state to use to generate inputs.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">No_example_found</span> <p>if no example was found within <code>count</code> tries.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><h3 id="combinators-for-arbitrary"><a href="#combinators-for-arbitrary" class="anchor"></a>Combinators for arbitrary</h3><div class="odoc-spec"><div class="spec value" id="val-choose" class="anchored"><a href="#val-choose" class="anchor"></a><code><span><span class="keyword">val</span> choose : <span><span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Choose among the given list of generators. The list must not be empty; if it is Invalid_argument is raised.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unit" class="anchored"><a href="#val-unit" class="anchor"></a><code><span><span class="keyword">val</span> unit : <span>unit <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Always generates <code>()</code>, obviously.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bool" class="anchored"><a href="#val-bool" class="anchor"></a><code><span><span class="keyword">val</span> bool : <span>bool <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Uniform boolean generator.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-float" class="anchored"><a href="#val-float" class="anchor"></a><code><span><span class="keyword">val</span> float : <span>float <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates regular floats (no nan and no infinities).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pos_float" class="anchored"><a href="#val-pos_float" class="anchor"></a><code><span><span class="keyword">val</span> pos_float : <span>float <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Positive float generator (no nan and no infinities).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-neg_float" class="anchored"><a href="#val-neg_float" class="anchor"></a><code><span><span class="keyword">val</span> neg_float : <span>float <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Negative float generator (no nan and no infinities).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-float_bound_inclusive" class="anchored"><a href="#val-float_bound_inclusive" class="anchor"></a><code><span><span class="keyword">val</span> float_bound_inclusive : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p><code>float_bound_inclusive n</code> is uniform between <code>0</code> and <code>n</code> included. If <code>bound</code> is negative, the result is negative or zero. If <code>bound</code> is 0, the result is 0.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.11</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-float_bound_exclusive" class="anchored"><a href="#val-float_bound_exclusive" class="anchor"></a><code><span><span class="keyword">val</span> float_bound_exclusive : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p><code>float_bound_exclusive n</code> is uniform between <code>0</code> included and <code>n</code> excluded. If <code>bound</code> is negative, the result is negative or zero.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>bound</code> is zero.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.11</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-float_range" class="anchored"><a href="#val-float_range" class="anchor"></a><code><span><span class="keyword">val</span> float_range : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p><code>float_range low high</code> is uniform between <code>low</code> included and <code>high</code> included.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>low &gt; high</code> or if the range is larger than <code>max_float</code>.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.11</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-int" class="anchored"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Int generator. Uniformly distributed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-int_bound" class="anchored"><a href="#val-int_bound" class="anchor"></a><code><span><span class="keyword">val</span> int_bound : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p><code>int_bound n</code> is uniform between <code>0</code> and <code>n</code> included.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-int_range" class="anchored"><a href="#val-int_range" class="anchor"></a><code><span><span class="keyword">val</span> int_range : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p><code>int_range a b</code> is uniform between <code>a</code> and <code>b</code> included. <code>b</code> must be larger than <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-small_nat" class="anchored"><a href="#val-small_nat" class="anchor"></a><code><span><span class="keyword">val</span> small_nat : <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Small unsigned integers.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.5.1</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-small_int" class="anchored"><a href="#val-small_int" class="anchor"></a><code><span><span class="keyword">val</span> small_int : <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Small unsigned integers. See <a href="Gen/index.html#val-small_int"><code>Gen.small_int</code></a>.</p><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>use <code>small_signed_int</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-small_signed_int" class="anchored"><a href="#val-small_signed_int" class="anchor"></a><code><span><span class="keyword">val</span> small_signed_int : <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Small signed integers.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.5.2</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-(--)" class="anchored"><a href="#val-(--)" class="anchor"></a><code><span><span class="keyword">val</span> (--) : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Synonym to <a href="#val-int_range"><code>int_range</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-int32" class="anchored"><a href="#val-int32" class="anchor"></a><code><span><span class="keyword">val</span> int32 : <span>int32 <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Int32 generator. Uniformly distributed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-int64" class="anchored"><a href="#val-int64" class="anchor"></a><code><span><span class="keyword">val</span> int64 : <span>int64 <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Int64 generator. Uniformly distributed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pos_int" class="anchored"><a href="#val-pos_int" class="anchor"></a><code><span><span class="keyword">val</span> pos_int : <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Positive int generator (0 included). Uniformly distributed. See <a href="Gen/index.html#val-pint"><code>Gen.pint</code></a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-small_int_corners" class="anchored"><a href="#val-small_int_corners" class="anchor"></a><code><span><span class="keyword">val</span> small_int_corners : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>As <code>small_int</code>, but each newly created generator starts with a list of corner cases before falling back on random generation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-neg_int" class="anchored"><a href="#val-neg_int" class="anchor"></a><code><span><span class="keyword">val</span> neg_int : <span>int <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Negative int generator (0 included, see <a href="Gen/index.html#val-neg_int"><code>Gen.neg_int</code></a>). The distribution is similar to that of <code>small_int</code>, not of <code>pos_int</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-char" class="anchored"><a href="#val-char" class="anchor"></a><code><span><span class="keyword">val</span> char : <span>char <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Uniformly distributed on all the chars (not just ascii or valid latin-1).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-printable_char" class="anchored"><a href="#val-printable_char" class="anchor"></a><code><span><span class="keyword">val</span> printable_char : <span>char <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Uniformly distributed over a subset of chars.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-numeral_char" class="anchored"><a href="#val-numeral_char" class="anchor"></a><code><span><span class="keyword">val</span> numeral_char : <span>char <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Uniformly distributed over <code>'0'..'9'</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-string_gen_of_size" class="anchored"><a href="#val-string_gen_of_size" class="anchor"></a><code><span><span class="keyword">val</span> string_gen_of_size : <span><span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>char <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-string_gen" class="anchored"><a href="#val-string_gen" class="anchor"></a><code><span><span class="keyword">val</span> string_gen : <span><span>char <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates strings with a distribution of length of <code>small_nat</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-string" class="anchored"><a href="#val-string" class="anchor"></a><code><span><span class="keyword">val</span> string : <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates strings with a distribution of length of <code>small_nat</code> and distribution of characters of <code>char</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-small_string" class="anchored"><a href="#val-small_string" class="anchor"></a><code><span><span class="keyword">val</span> small_string : <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-string"><code>string</code></a> but with a small length (ie <a href="Gen/index.html#val-small_nat"><code>Gen.small_nat</code></a> ).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-small_list" class="anchored"><a href="#val-small_list" class="anchor"></a><code><span><span class="keyword">val</span> small_list : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates lists of small size (see <a href="Gen/index.html#val-small_nat"><code>Gen.small_nat</code></a>).</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.5.3</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-string_of_size" class="anchored"><a href="#val-string_of_size" class="anchor"></a><code><span><span class="keyword">val</span> string_of_size : <span><span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates strings with distribution of characters if <code>char</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-printable_string" class="anchored"><a href="#val-printable_string" class="anchor"></a><code><span><span class="keyword">val</span> printable_string : <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates strings with a distribution of length of <code>small_nat</code> and distribution of characters of <code>printable_char</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-printable_string_of_size" class="anchored"><a href="#val-printable_string_of_size" class="anchor"></a><code><span><span class="keyword">val</span> printable_string_of_size : <span><span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates strings with distribution of characters of <code>printable_char</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-small_printable_string" class="anchored"><a href="#val-small_printable_string" class="anchor"></a><code><span><span class="keyword">val</span> small_printable_string : <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-numeral_string" class="anchored"><a href="#val-numeral_string" class="anchor"></a><code><span><span class="keyword">val</span> numeral_string : <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates strings with a distribution of length of <code>small_nat</code> and distribution of characters of <code>numeral_char</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-numeral_string_of_size" class="anchored"><a href="#val-numeral_string_of_size" class="anchor"></a><code><span><span class="keyword">val</span> numeral_string_of_size : <span><span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates strings with a distribution of characters of <code>numeral_char</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list" class="anchored"><a href="#val-list" class="anchor"></a><code><span><span class="keyword">val</span> list : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates lists with length generated by <code>small_nat</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_of_size" class="anchored"><a href="#val-list_of_size" class="anchor"></a><code><span><span class="keyword">val</span> list_of_size : <span><span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates lists with length from the given distribution.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-array" class="anchored"><a href="#val-array" class="anchor"></a><code><span><span class="keyword">val</span> array : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates arrays with length generated by <code>small_nat</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-array_of_size" class="anchored"><a href="#val-array_of_size" class="anchor"></a><code><span><span class="keyword">val</span> array_of_size : <span><span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generates arrays with length from the given distribution.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pair" class="anchored"><a href="#val-pair" class="anchor"></a><code><span><span class="keyword">val</span> pair : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines two generators into a generator of pairs. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-pair"><code>Shrink.pair</code></a>)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-triple" class="anchored"><a href="#val-triple" class="anchor"></a><code><span><span class="keyword">val</span> triple : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines three generators into a generator of 3-tuples. Order matters for shrinking, see <a href="Shrink/index.html#val-pair"><code>Shrink.pair</code></a> and the likes</p></div></div><div class="odoc-spec"><div class="spec value" id="val-quad" class="anchored"><a href="#val-quad" class="anchor"></a><code><span><span class="keyword">val</span> quad : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines four generators into a generator of 4-tuples. Order matters for shrinking, see <a href="Shrink/index.html#val-pair"><code>Shrink.pair</code></a> and the likes</p></div></div><h4 id="tuple-of-generators_2"><a href="#tuple-of-generators_2" class="anchor"></a>Tuple of generators</h4><h5 id="shrinks-on-gen1,-then-gen2,-then-..._2"><a href="#shrinks-on-gen1,-then-gen2,-then-..._2" class="anchor"></a>Shrinks on <code>gen1</code>, then <code>gen2</code>, then ...</h5><div class="odoc-spec"><div class="spec value" id="val-tup2" class="anchored"><a href="#val-tup2" class="anchor"></a><code><span><span class="keyword">val</span> tup2 : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines two generators into a 2-tuple generator. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-tup2"><code>Shrink.tup2</code></a>) Prints as many elements as available printers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tup3" class="anchored"><a href="#val-tup3" class="anchor"></a><code><span><span class="keyword">val</span> tup3 : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines three generators into a 3-tuple generator. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-tup2"><code>Shrink.tup2</code></a>) Prints as many elements as available printers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tup4" class="anchored"><a href="#val-tup4" class="anchor"></a><code><span><span class="keyword">val</span> tup4 : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines four generators into a 4-tuple generator. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-tup2"><code>Shrink.tup2</code></a>) Prints as many elements as available printers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tup5" class="anchored"><a href="#val-tup5" class="anchor"></a><code><span><span class="keyword">val</span> tup5 : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'e</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span> * <span class="type-var">'e</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines five generators into a 5-tuple generator. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-tup2"><code>Shrink.tup2</code></a>) Prints as many elements as available printers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tup6" class="anchored"><a href="#val-tup6" class="anchor"></a><code><span><span class="keyword">val</span> tup6 : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'e</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'f</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span> * <span class="type-var">'e</span> * <span class="type-var">'f</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines six generators into a 6-tuple generator. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-tup2"><code>Shrink.tup2</code></a>) Prints as many elements as available printers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tup7" class="anchored"><a href="#val-tup7" class="anchor"></a><code><span><span class="keyword">val</span> tup7 : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'e</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'f</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'g</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span> * <span class="type-var">'e</span> * <span class="type-var">'f</span> * <span class="type-var">'g</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines seven generators into a 7-tuple generator. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-tup2"><code>Shrink.tup2</code></a>) Prints as many elements as available printers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tup8" class="anchored"><a href="#val-tup8" class="anchor"></a><code><span><span class="keyword">val</span> tup8 : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'e</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'f</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'g</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'h</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span> * <span class="type-var">'e</span> * <span class="type-var">'f</span> * <span class="type-var">'g</span> * <span class="type-var">'h</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines eight generators into a 8-tuple generator. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-tup2"><code>Shrink.tup2</code></a>) Prints as many elements as available printers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tup9" class="anchored"><a href="#val-tup9" class="anchor"></a><code><span><span class="keyword">val</span> tup9 : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'e</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'f</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'g</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'h</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'i</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span> * <span class="type-var">'e</span> * <span class="type-var">'f</span> * <span class="type-var">'g</span> * <span class="type-var">'h</span> * <span class="type-var">'i</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Combines nine generators into a 9-tuple generator. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-tup2"><code>Shrink.tup2</code></a>) Prints as many elements as available printers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-option" class="anchored"><a href="#val-option" class="anchor"></a><code><span><span class="keyword">val</span> option : <span>?ratio:float <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Choose between returning Some random value with optional ratio, or None.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fun1_unsafe" class="anchored"><a href="#val-fun1_unsafe" class="anchor"></a><code><span><span class="keyword">val</span> fun1_unsafe : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generator of functions of arity 1. The functions are always pure and total functions:</p><ul><li>when given the same argument (as decided by Pervasives.(=)), it returns the same value</li><li>it never does side effects, like printing or never raise exceptions etc. The functions generated are really printable.</li></ul><p>renamed from <a href="#val-fun1"><code>fun1</code></a> since 0.6</p><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>use <code>fun_</code> instead.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-fun2_unsafe" class="anchored"><a href="#val-fun2_unsafe" class="anchor"></a><code><span><span class="keyword">val</span> fun2_unsafe : <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Generator of functions of arity 2. The remark about <code>fun1</code> also apply here. renamed from <a href="#val-fun2"><code>fun2</code></a> since 0.6</p><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>use <code>fun_</code> instead since 0.6</p></li></ul></div></div><div class="odoc-spec"><div class="spec type" id="type-fun_repr" class="anchored"><a href="#type-fun_repr" class="anchor"></a><code><span><span class="keyword">type</span> <span>_ fun_repr</span></span></code></div><div class="spec-doc"><p>Internal data for functions. A <code>'f fun_</code> is a function of type <code>'f</code>, fundamentally.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-fun_" class="anchored"><a href="#type-fun_" class="anchor"></a><code><span><span class="keyword">type</span> <span>_ fun_</span></span><span> = </span></code><table><tr id="type-fun_.Fun" class="anchored"><td class="def variant constructor"><a href="#type-fun_.Fun" class="anchor"></a><code><span>| </span><span><span class="constructor">Fun</span> : <span><span class="type-var">'f</span> <a href="#type-fun_repr">fun_repr</a></span> * <span class="type-var">'f</span> <span class="arrow">&#45;&gt;</span> <span><span class="type-var">'f</span> <a href="#type-fun_">fun_</a></span></span></code></td></tr></table></div><div class="spec-doc"><p>A function packed with the data required to print/shrink it. See <a href="Fn/index.html"><code>Fn</code></a> to see how to apply, print, etc. such a function.</p><p>One can also directly pattern match on it to obtain the executable function.</p><p>For example:</p><pre><code>QCheck.Test.make
  QCheck.(pair (fun1 Observable.int bool) (small_list int))
  (fun (Fun (_,f), l) -&gt; l=(List.rev_map f l |&gt; List.rev l))</code></pre></div></div><div class="odoc-spec"><div class="spec module" id="module-Fn" class="anchored"><a href="#module-Fn" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Fn/index.html">Fn</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Utils on functions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fun1" class="anchored"><a href="#val-fun1" class="anchor"></a><code><span><span class="keyword">val</span> fun1 : <span><span><span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-fun_">fun_</a></span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p><code>fun1 o ret</code> makes random functions that take an argument observable via <code>o</code> and map to random values generated from <code>ret</code>. To write functions with multiple arguments, it's better to use <a href="Tuple/index.html"><code>Tuple</code></a> or <a href="Observable/index.html#val-pair"><code>Observable.pair</code></a> rather than applying <a href="#type-fun_"><code>fun_</code></a> several times (shrinking will be faster).</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec module" id="module-Tuple" class="anchored"><a href="#module-Tuple" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Tuple/index.html">Tuple</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fun_nary" class="anchored"><a href="#val-fun_nary" class="anchor"></a><code><span><span class="keyword">val</span> fun_nary : <span><span><span class="type-var">'a</span> <a href="Tuple/index.html#type-obs">Tuple.obs</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span><span class="type-var">'a</span> <a href="Tuple/index.html#type-t">Tuple.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-fun_">fun_</a></span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p><code>fun_nary</code> makes random n-ary functions. Example:</p><pre><code>let module O = Observable in
fun_nary Tuple.(O.int @-&gt; O.float @-&gt; O.string @-&gt; o_nil) bool)</code></pre><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-fun2" class="anchored"><a href="#val-fun2" class="anchor"></a><code><span><span class="keyword">val</span> fun2 : <span><span><span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <a href="#type-fun_">fun_</a></span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-fun3" class="anchored"><a href="#val-fun3" class="anchor"></a><code><span><span class="keyword">val</span> fun3 : <span><span><span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'d</span>)</span> <a href="#type-fun_">fun_</a></span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-fun4" class="anchored"><a href="#val-fun4" class="anchor"></a><code><span><span class="keyword">val</span> fun4 : <span><span><span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'e</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'e</span>)</span> <a href="#type-fun_">fun_</a></span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.6</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-oneofl" class="anchored"><a href="#val-oneofl" class="anchor"></a><code><span><span class="keyword">val</span> oneofl : <span>?print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?collect:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Pick an element randomly in the list.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-oneofa" class="anchored"><a href="#val-oneofa" class="anchor"></a><code><span><span class="keyword">val</span> oneofa : <span>?print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?collect:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Pick an element randomly in the array.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-oneof" class="anchored"><a href="#val-oneof" class="anchor"></a><code><span><span class="keyword">val</span> oneof : <span><span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Pick a generator among the list, randomly.</p><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>this function is badly specified and will not use shrinkers appropriately. Consider using <code>Gen</code>.oneof and then <code>make</code> to build a well behaved arbitrary instance.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-always" class="anchored"><a href="#val-always" class="anchor"></a><code><span><span class="keyword">val</span> always : <span>?print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Always return the same element.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-frequency" class="anchored"><a href="#val-frequency" class="anchor"></a><code><span><span class="keyword">val</span> frequency : <span>?print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?small:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span>?shrink:<span><span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a></span> <span class="arrow">&#45;&gt;</span></span>
<span>?collect:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(int * <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Similar to <a href="#val-oneof"><code>oneof</code></a> but with frequencies.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-frequencyl" class="anchored"><a href="#val-frequencyl" class="anchor"></a><code><span><span class="keyword">val</span> frequencyl : <span>?print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?small:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(int * <span class="type-var">'a</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-oneofl"><code>oneofl</code></a>, but each element is paired with its frequency in the probability distribution (the higher, the more likely).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-frequencya" class="anchored"><a href="#val-frequencya" class="anchor"></a><code><span><span class="keyword">val</span> frequencya : <span>?print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?small:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(int * <span class="type-var">'a</span>)</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-frequencyl"><code>frequencyl</code></a>, but with an array.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span>?rev:<span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p><code>map f a</code> returns a new arbitrary instance that generates values using <code>a#gen</code> and then transforms them through <code>f</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">rev</span> <p>if provided, maps values back to type <code>'a</code> so that the printer, shrinker, etc. of <code>a</code> can be used. We assume <code>f</code> is monotonic in this case (that is, smaller inputs are transformed into smaller outputs).</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-map_same_type" class="anchored"><a href="#val-map_same_type" class="anchor"></a><code><span><span class="keyword">val</span> map_same_type : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p>Specialization of <code>map</code> when the transformation preserves the type, which makes shrinker, printer, etc. still relevant.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_keep_input" class="anchored"><a href="#val-map_keep_input" class="anchor"></a><code><span><span class="keyword">val</span> map_keep_input : <span>?print:<span><span class="type-var">'b</span> <a href="Print/index.html#type-t">Print.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?small:<span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-arbitrary">arbitrary</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-arbitrary">arbitrary</a></span></span></code></div><div class="spec-doc"><p><code>map_keep_input f a</code> generates random values from <code>a</code>, and maps them into values of type <code>'b</code> using the function <code>f</code>, but it also keeps the original value. For shrinking, it is assumed that <code>f</code> is monotonic and that smaller input values will map into smaller values.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">print</span> <p>optional printer for the <code>f</code>'s output.</p></li></ul></div></div></div></body></html>